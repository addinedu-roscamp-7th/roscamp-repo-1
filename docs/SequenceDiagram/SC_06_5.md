@startuml SC_06_5_Pickee_적재완료및이동
!theme plain
skinparam backgroundColor #FFFFFF
skinparam sequenceMessageAlign center

actor "사용자" as user
participant "LLM Service" as llm
participant "Pickee\nMain Controller" as pickee_main

== 상품 적재 완료 ==

user -> pickee_main: 음성 "임무 완료"
activate pickee_main

pickee_main -> pickee_main: STT (음성 → 텍스트)
activate pickee_main #DarkSalmon
deactivate pickee_main

pickee_main -> llm: [HTTP] 텍스트 전달\n(GET /llm/intent_detection)
activate llm

llm -> llm: 텍스트 분석
activate llm #DarkSalmon
deactivate llm

llm --> pickee_main: [HTTP] 텍스트 분석 결과\n(intent_detection_result)
deactivate llm

pickee_main -> pickee_main: 음성 송출 ("적재 완료 확인")
activate pickee_main #DarkSalmon
deactivate pickee_main

pickee_main -> pickee_main: Pickee 상태 변경\n(WAITING_COMPLETE->MOVING_TO_STANDBY)
activate pickee_main #DarkSalmon
deactivate pickee_main

deactivate pickee_main

@enduml
