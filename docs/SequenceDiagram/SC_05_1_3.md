@startuml
title 관리자 모니터링 - 로봇 시야 확인
participant "Shopee App" as app
participant "Shopee\nMain Service" as shopee
participant "Pickee\nMain Service" as pickee
participant "Pickee\nVision AI Service" as vision

app -> shopee: [TCP] 영상 송출 시작 요청\n(video_stream_start)
activate shopee

shopee -> pickee: [ROS2] 영상 송출 시작 요청\n(/pickee/video_stream/start)
activate pickee

pickee -> vision: [ROS2] 영상 송출 시작 요청\n(/pickee/video_stream/start)
activate vision

vision --> pickee: [ROS2] 영상 송출 시작 응답\n(/pickee/video_stream/start)
deactivate vision

pickee --> shopee: [ROS2] 영상 송출 시작 응답\n(/pickee/video_stream/start)
deactivate pickee

shopee --> app: [TCP] 영상 송출 시작 응답\n(video_stream_start)
deactivate shopee

loop
    vision -> shopee: [UDP] 영상 송출\n(video_frame)
    activate shopee
    
    shopee -> app: [UDP] 영상 송출\n(video_frame)
    activate app
    
    app -> app: 영상\n화면 표시
    deactivate app
    deactivate shopee
end

@enduml