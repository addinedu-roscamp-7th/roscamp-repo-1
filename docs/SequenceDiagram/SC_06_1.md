@startuml SC_06_1_모드_시작
!theme plain
skinparam backgroundColor #FFFFFF
skinparam sequenceMessageAlign center

title SC_06_1: 재고 보충 모드 시작

actor "직원" as user
participant "Pickee\nMain Controller" as MainCtrl
participant "Shopee\nLLM Service" as llm

== Wake Word 인식 ==

user -> MainCtrl: "피키야" (Wake Word)
activate MainCtrl
MainCtrl -> MainCtrl: Wake Word 감지
activate MainCtrl #DarkSalmon
deactivate MainCtrl
MainCtrl -> MainCtrl: 음성 응답 송출 ("네, 부르셨나요?")
activate MainCtrl #DarkSalmon
deactivate MainCtrl

== 명령 인식 및 전송 ==

user -> MainCtrl: 음성 "재고 보충 모드 켜줘"
MainCtrl -> MainCtrl: STT 수행 (음성 → 텍스트)
activate MainCtrl #DarkSalmon
deactivate MainCtrl

MainCtrl -> llm: [HTTP] 의도 분석 요청\n(IF_HTTP_02: intent_detection)
activate llm
llm -> llm: 발화 의도 분석
activate llm #DarkSalmon
deactivate llm
llm --> MainCtrl: [HTTP] 발화 의도 반환\n(intent: "start_restocking_mode")
deactivate llm

== 로봇 상태 전환 ==

MainCtrl -> MainCtrl: 로봇 상태 변경 (대기 -> 재고보충_직원등록)
activate MainCtrl #DarkSalmon
deactivate MainCtrl
deactivate MainCtrl

@enduml