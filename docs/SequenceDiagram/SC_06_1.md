@startuml SC_06_1
!theme plain
skinparam backgroundColor #FFFFFF
skinparam sequenceMessageAlign center

actor "직원" as user
participant "Pickee\nMain Controller" as pickee_main
participant "LLM Service" as llm

user -> pickee_main: "피키야" (Wake Word)
activate pickee_main

pickee_main -> pickee_main: Wake Word\n감지
activate pickee_main #DarkSalmon
deactivate pickee_main

pickee_main -> pickee_main: 음성 응답 송출\n("네, 부르셨나요?")
activate pickee_main #DarkSalmon
deactivate pickee_main

user -> pickee_main: "도와줘", "따라와" 등 Following 요청 발화

pickee_main -> pickee_main: STT\n(음성->텍스트)
activate pickee_main #DarkSalmon
deactivate pickee_main

pickee_main -> llm: [HTTP] 발화 의도 분석 요청\n(GET /llm/intent_detection)
activate llm

llm --> pickee_main: [HTTP] 발화 의도 반환
deactivate llm

pickee_main -> pickee_main: Pickee 상태 변경\n(CHARGING_AVAILABLE->REGISTERING_STAFF)
activate pickee_main #DarkSalmon
deactivate pickee_main
deactivate pickee_main

@enduml
