@startuml
title SC_03_1 Shopee 포장대 이동 시퀀스

participant "Shopee\nMain Service" as Shopee
participant "Pickee\nMain Controller" as MainCtrl
participant "Pickee\nMobile Controller" as MobileCtrl

activate Shopee

Shopee -> MainCtrl: [ROS2 Service] 포장대 이동 명령\n(/pickee/move_to_packaging)
activate MainCtrl

MainCtrl -> MainCtrl: Global Path\n계획

Shopee <-- MainCtrl: [ROS2 Service] 포장대 이동 명령 응답\n(/pickee/move_to_packaging)

MainCtrl -> MobileCtrl: [ROS2 Service] 목적지 이동 명령\n(/pickee/mobile/move_to_location)
activate MobileCtrl

MobileCtrl -> MobileCtrl: 경로 주행

MobileCtrl --> MainCtrl: [ROS2 Service] 목적지 이동 명령 응답\n(/pickee/mobile/move_to_location)

MobileCtrl -> MainCtrl: [ROS2 Topic] 도착 알림\n(/pickee/mobile/arrival)
deactivate MobileCtrl

MainCtrl -> Shopee: [ROS2 Topic] 도착 보고\n(/pickee/arrival_notice)

deactivate MainCtrl

MainCtrl -> MainCtrl: 장바구니 교체\n직원 안내음 송출

deactivate Shopee

@enduml