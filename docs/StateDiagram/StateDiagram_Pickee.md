@startuml
[*] --> 초기화 : Start

state 초기화 {
}
초기화 --> 충전 : 초기화 완료
충전 --> 작업대기_충전중 : 충전완료 [배터리 30% 이상]
작업대기_충전중 --> 상품위치_이동 : 쇼핑시작 [쇼핑 요청]
작업대기_충전중 --> 직원_인식 : Following 시작 [Following 요청]

상품위치_이동 --> 오토_픽업 : 상품 위치 도착 상품 픽업 대기
신선_식품_픽업_대기 --> 오토_픽업 : 픽 완료
상품위치_이동 --> 신선_식품_픽업_대기 : 신선업요청
오토_픽업 --> 포장대_이동 : 쇼핑완료
오토_픽업 --> 상품위치_이동 : 쇼핑 시작 [다음 쇼핑 요청 존재]

포장대_이동 --> 장바구니_전달 : 포장대 도착 완료
장바구니_전달 --> 대기장소_이동 : 장바구니 전달 완료
대기장소_이동 --> 충전 : 대기 장소 도착
대기장소_이동 --> 직원_Following : Following 시작 [Following 요청 & 배터리 30% 이상]
대기장소_이동 --> 상품위치_이동 : 쇼핑 시작 [신규 쇼핑 요청 존재 & 배터리 30% 이상]

직원_인식 --> 직원_Following : 직원 인식 완료
직원_Following --> 요청_장소_이동 : 이동 요청
요청_장소_이동 --> 담긴_상품_전달 : 요청 장소 이동 완료
담긴_상품_전달 --> 대기장소_이동 : 담긴 상품 전달 완료

@enduml
